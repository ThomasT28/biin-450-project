---
title: "PROTYPE"
author: "Thomas Tragale"
date: ""
output:
  pdf_document: default
  html_document: default
---

### Load packages

```{r load-packages, message=FALSE, warning=FALSE}

library(tidyverse)
library(rentrez)
library(Biostrings)

```


### GOAL 1 - Scrape Protein Sequences of 10 Random Entries from CSV 'IRD_data'.csv'

```{r, read data}

# Reads in Influnzena Research Database CSV file
# This is the 'IRD- Prepared Data CSV' file renamed

data <- read_csv("IRD_data.csv")

accession_nums <- pull(data, accession)

#PROTOTYPE - Intended as a stand-in for a filter
accession_nums <- sample(accession_nums, 10, replace=TRUE)

```
ISSUE: Verison of data is always .1, shouldn't be a massive problem since this data is unlikely to be updated after deposition. This is a limitation because rentrez requires the verison num to perform the scrape. 

ISSUE: Shouldn't I be required to send NCBI my identity/information when I open connections like this? I'm concerned my IP could be blocked if I start performing larger scale testing. 

```{r, write seqs to file}

for (num in accession_nums){
  
  sequence <- entrez_fetch(db="nuccore", id=c(num, '.1'), rettype="fasta")
  write(sequence, file="FASTA_seqs.txt", append = TRUE)
  
}

```

### GOAL 2 - Group the Sequences into two clusters by 'date'

```{r}

print(accession_nums)

```

```{r}



```

### GOAL 3 - Perform an MSA between Seuqneces in the two Clusters

```{r}

```

### GOAL 4 - Perform a slower alingment between the two conserved sequences produced by the MSAs 

```{r}


```
